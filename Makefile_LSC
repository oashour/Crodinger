CC=gcc
CFLAGS=-Wall -std=c99 -L$(HOME)/opt/lib -I$(HOME)/opt/include 
INCLUDES=-Ilib
LDFLAGS=-lfftw3 -lm -lfftw3l 
DIR = lib
SRCS = nlseL.c $(DIR)/libL.c
OBJS = $(SRCS:.c=.o)
DEPS = libL.h
MAIN = nlseL

.PHONY: clean

all: $(MAIN)
	@echo NLSE solver has been compiled in extended precision

$(MAIN): $(OBJS) 
	$(CC) -o $@ $^ $(INCLUDES) $(CFLAGS) $(LDFLAGS) 

.c.o: $(SRCS) $(DEPS)
	$(CC) -c -o $@ $< $(CFLAGS) $(LDFLAGS) $(INCLUDES)

clean:
	$(RM) *.o $(DIR)/*.o *~ $(MAIN)
